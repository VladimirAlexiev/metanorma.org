<div class="web-build-ui">
  <section class="main-section">
    <h2 class="title">Try it</h2>
    <div class="contents">
    </div>
  </section>
</div>

<script>
  (function () {
    var THEME_CSS_PATH_PREFIX = '/assets/css/';

    function setTheme (themeName) {
      document.getElementById('themeCSS').href = THEME_CSS_PATH_PREFIX + themeName + '.css';
    }

    document.addEventListener("keypress", function onEvent(event) {
      if (event.key === "a") {
        setTheme('theme-a');
      } else if (event.key === "b") {
        setTheme('theme-b');
      } else if (event.key === "c") {
        setTheme('theme-c');
      } else if (event.key === "0") {
        setTheme('style');
      }
    });
  }());
</script>

<script>
  (function () {
    var webBuildUi = document.querySelector('.web-build-ui');
    var ctaContainer = document.querySelector('.hero .cta');

    if (ctaContainer != null && webBuildUi != null) {
      webBuildUi.classList.add('conditional');

      function addCtaButton (btn) {
        if (btn.label) {
          var newBtnEl = document.createElement('a');

          newBtnEl.innerHTML = btn.label;
          newBtnEl.classList.add('button');
          if (btn.hint) {
            newBtnEl.setAttribute('title', btn.hint);
          }

          ctaContainer.append(newBtnEl);
          return newBtnEl;
        } else {
          return null;
        }
      }

      function toggleWebUi () {
        webBuildUi.classList.toggle('shown');
      }

      var btnEl = addCtaButton({
        label: 'Try it',
        hint: 'Upload your Metanorma markup and get rendered document.',
      });

      if (btnEl) {
        // Ensure it behaves like a link without side-effects
        btnEl.setAttribute('href', 'javascript: void 0');

        // Make it trigger the Web-based build UI
        btnEl.addEventListener('click', toggleWebUi);
      }
    }

  }());
</script>
