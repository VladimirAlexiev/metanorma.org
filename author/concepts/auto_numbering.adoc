---
layout: author-docs
---
= Auto-numbering

== General

The following document elements ("`elements`") are auto-numbered
by Metanorma, so users do not need to specify any numbering in
their source documents:

* figures
* tables
* examples
* formulas
* sourcecode, pseudocode
* permissions, recommendations and requirements.

The conventions for numbering vary by Metanorma flavour, but the
default is to number all elements consecutively in the main body of a document, and
separately in each Annex/Appendix, prefixed bt the Annex/Appendix number.

== Multi-level numbering

Metanorma's auto-numbering functionality assigns numbers to elements consecutively.
Sometimes, more than one level of numbering is required for a sequence of elements;
for instance, _17a_, _17b_.

To indicate that, all elements in the subsequence are assigned the same
`subsequence` attribute:

[source,asciidoc]
--
[stem,subsequence=A]
++++
A
++++

[stem,subsequence=A]
++++
B
++++

[stem,subsequence=B]
++++
C
++++

[stem,subsequence=B]
++++
D
++++

[stem]
++++
E
++++
--

Gets rendered as:

____
A (1a)

B (1b)

C (2a)

D (2b)

E (3)
____


== Unnumbered elements

Sometimes a document element needs to be excluded from auto-numbering.
This is achieved by giving it the option attribute `%unnumbered`:

[source,asciidoc]
--
[[figureC-1]]
[%unnumbered]
.Typical gelatinization curve
image::rice_images/rice_image2.png[]
--

Sourcecode and pseudocode snippets are by default numbered as figures
[added in https://github.com/metanorma/isodoc/releases/tag/v1.0.10]. If they
are not to be numbered, they need to be given the `%unnumbered` option attribute.

[source,asciidoc]
--
[sourcecode%unnumbered]
----
for (i = 0; i < n; i++) { bounce(v[i], wall) }
----

// This is also unnumbered
[%unnumbered]
[pseudocode]
----
stem:[forall v_{i}] *bounce* stem:[v_{i}] off the wall
----
--


=== Prevention of double-numbering

If a document element is included in a block type that is already subject to numbering,
it will be excluded from auto-numbering.

This means that tables, sourcecode and pseudocode, and figures are
excluded from auto-numbering within
examples, requirements, recommendations, permissions, tables, figures,
sourcecode and pseudocode.
{blank}[added in https://github.com/metanorma/isodoc/releases/tag/v1.0.11]


[[numbering-override]]
== Override numbering

There are circumstances when auto-numbering of elements needs to be overriden;
for instance, numbering out of sequence in updated documents.

In these cases, elements can be given an optional `number`
attribute [added in https://github.com/metanorma/metanorma-standoc/releases/tag/v1.4.1],
assigning a required document element number to override auto-numbering.

Elements subsequent to that element will be auto-numbered so as to
follow the previous element, so long as the supplied number belongs
to the same sequence.

For subsequences, number shall have only subsequence scope.

[source,asciidoc]
--
[sourcecode,number=7]
----
for (i = 0; i < n; i++) { bounce(v[i], wall) }
----
--

